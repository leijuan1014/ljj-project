define(["jquery","components","template","manageCommon","bootstrap","jqueryValidate"],function(e,s,o,d,i,r){function l(){var e=!1,o=!1,d=!1,i=!1,r=!1,l=!1;s.getMsg(apiUrl+"/admin/module/module/queryModules").done(function(s){if(1==s.res)for(var t=s.obj,n=0;n<t.length;n++){var a=t[n],c=a.moduleId;a.parentId;7==c&&($("#goodsList").css("display","block"),e=!0),8==c&&($("#goodsOrder").css("display","block"),e=!0),9==c&&($("#goodsCatory").css("display","block"),e=!0),10==c&&($("#memberManage").css("display","block"),o=!0),11==c&&($("#messageManage").css("display","block"),o=!0),12==c&&($("#articleManage").css("display","block"),d=!0),13==c&&($("#adManage").css("display","block"),i=!0),14==c&&($("#goodsReport").css("display","block"),r=!0),15==c&&($("#orderReport").css("display","block"),r=!0),16==c&&($("#adminManage").css("display","block"),l=!0),17==c&&($("#roleManage").css("display","block"),l=!0),e&&$("#div1").css("display","block"),o&&$("#div2").css("display","block"),d&&$("#div3").css("display","block"),i&&$("#div4").css("display","block"),r&&$("#div5").css("display","block"),l&&$("#div6").css("display","block"),(e||o||d&&i||r||l)&&$(".container-wrap").css("display","block")}})}function t(e){var d=apiUrl+"/admin/order/orderAdmin/getOrderByOrderNumber?orderNumber="+e;s.getMsg(d,"post").done(function(e){var d=e.res;if(1==d){var i=o("logisticsInfo-tpl",e);document.querySelector("#logisticsInfo").innerHTML=i;var r=o("table-list-tpl",e);document.querySelector("#table-list-content").innerHTML=r,1==e.obj.state&&$(".dis").css("display","none")}else s.Alert("","出错了！")})}function n(){$("#sePw").validate({rules:{logisticsNumber:{required:!0}},messages:{logisticsNumber:{required:"请输入物流单号"}},submitHandler:function(e){var o=$("#logNumber").val(),d={logisticsNumber:o,orderId:c};s.getMsg(apiUrl+"/admin/order/orderAdmin/toSend",d,"post").done(function(e){1==e.res?(s.Alert("success","发货成功"),$("#send-modal").modal("hide"),setTimeout(function(){window.history.go(-1)},2e3)):($("#send-modal").modal("hide"),s.Alert("","失败"))})}})}l();var a=s.GetQueryString("id"),c=(s.GetQueryString("sendState"),s.GetQueryString("orderId"));s.GetQueryString("state");t(a),$("#box-list-content").on("click",".modal-send",function(){$("#modal-send").modal({show:!0})}),$("#sub").bind("click",function(){var e={orderId:c};s.getMsg(apiUrl+"/admin/order/orderAdmin/toSend",e,"post").done(function(e){1==e.res?(s.Alert("success","发货成功"),setTimeout(function(){window.history.go(-1)},2e3)):s.Alert("","失败")})}),n()});