define(["jquery","template","components","bootstrap","manageCommon"],function(e,t,a,o,d){function s(){var e=!1,t=!1,o=!1,d=!1,s=!1,l=!1;a.getMsg(apiUrl+"/admin/module/module/queryModules").done(function(a){if(1==a.res)for(var c=a.obj,i=0;i<c.length;i++){var r=c[i],n=r.moduleId;r.parentId;7==n&&($("#goodsList").css("display","block"),e=!0),8==n&&($("#goodsOrder").css("display","block"),e=!0),9==n&&($("#goodsCatory").css("display","block"),e=!0),10==n&&($("#memberManage").css("display","block"),t=!0),11==n&&($("#messageManage").css("display","block"),t=!0),12==n&&($("#articleManage").css("display","block"),o=!0),13==n&&($("#adManage").css("display","block"),d=!0),14==n&&($("#goodsReport").css("display","block"),s=!0),15==n&&($("#orderReport").css("display","block"),s=!0),16==n&&($("#adminManage").css("display","block"),l=!0),17==n&&($("#roleManage").css("display","block"),l=!0),e&&$("#div1").css("display","block"),t&&$("#div2").css("display","block"),o&&$("#div3").css("display","block"),d&&$("#div4").css("display","block"),s&&$("#div5").css("display","block"),l&&$("#div6").css("display","block"),(e||t||o&&d||s||l)&&$(".container-wrap").css("display","block")}})}function l(){$("#table-list-content").on("click",".del-btn",function(){var e=apiUrl+"/admin/productcategory/productcategory/delProductcategoryById?categoryId="+$(this).attr("god");$("#del-modal").modal("show"),$("#submit-btn").click(function(){a.getMsg(e).done(function(e){1==e.res?(a.Alert("success","删除成功"),location.reload(),$("#del-modal").modal("hide")):(alert(e.msg),location.reload(),$("#del-modal").modal("hide"))})})}),$("#table-list-content").on("click",".showorhidechildcategory",function(){var e=$(this).attr("god"),o=this.src;if(!(o.indexOf("add")>0))return o=o.substring(0,o.indexOf("substact"))+"add.png",this.src=o,document.getElementById("child_"+e).style.display="none",void(document.getElementById("child_table_"+e).innerHTML="");o=o.substring(0,o.indexOf("add"))+"substact.png",this.src=o;var d=apiUrl+"/admin/productcategory/productcategory/getAllNormalChildCategoryByCategoryId?categoryId="+e;a.getMsg(d).done(function(o){if(1==o.res){o.dataList=o.obj;for(var d=0;d<o.dataList.length;d++)o.dataList[d].createTime=a.formatDate(o.dataList[d].createTime);var s=t("child_table_tp",o);document.getElementById("child_table_"+e).innerHTML=s,document.getElementById("child_"+e).style.display=""}else a.Alert("","该分类没有相应的二级分类!")})})}s(),listUrl=apiUrl+"/admin/productcategory/productcategory/getProductcategoryByPage",require(["./table"]),l()});