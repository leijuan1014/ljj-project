define(["jquery","components","template","manageCommon","bootstrap","jqueryValidate"],function(e,s,o,r,i,d){function l(){var e=!1,o=!1,r=!1,i=!1,d=!1,l=!1;s.getMsg(apiUrl+"/admin/module/module/queryModules").done(function(s){if(1==s.res)for(var n=s.obj,t=0;t<n.length;t++){var a=n[t],c=a.moduleId;a.parentId;7==c&&($("#goodsList").css("display","block"),e=!0),8==c&&($("#goodsOrder").css("display","block"),e=!0),9==c&&($("#goodsCatory").css("display","block"),e=!0),10==c&&($("#memberManage").css("display","block"),o=!0),11==c&&($("#messageManage").css("display","block"),o=!0),12==c&&($("#articleManage").css("display","block"),r=!0),13==c&&($("#adManage").css("display","block"),i=!0),14==c&&($("#goodsReport").css("display","block"),d=!0),15==c&&($("#orderReport").css("display","block"),d=!0),16==c&&($("#adminManage").css("display","block"),l=!0),17==c&&($("#roleManage").css("display","block"),l=!0),e&&$("#div1").css("display","block"),o&&$("#div2").css("display","block"),r&&$("#div3").css("display","block"),i&&$("#div4").css("display","block"),d&&$("#div5").css("display","block"),l&&$("#div6").css("display","block"),(e||o||r&&i||d||l)&&$(".container-wrap").css("display","block")}})}function n(e){var r=apiUrl+"/admin/order/orderAdmin/getOrderByOrderNumber?orderNumber="+e;s.getMsg(r,"post").done(function(e){var r=e.res;if(1==r){var i=o("orderinfo-tpl",e);document.querySelector("#orderinfo").innerHTML=i,i=o("payInfo-tpl",e),document.querySelector("#payInfo").innerHTML=i,i=o("logisticsInfo-tpl",e),document.querySelector("#logisticsInfo").innerHTML=i;var d=o("payCertify-tpl",e);document.querySelector("#payCertify").innerHTML=d,d=o("table-list-tpl",e),document.querySelector("#table-list-content").innerHTML=d,1==e.obj.state&&$(".dis").css("display","none")}else s.Alert("","出错了！")})}function t(){$("#sePw").validate({rules:{logisticsNumber:{required:!0}},messages:{logisticsNumber:{required:"请输入物流单号"}},submitHandler:function(e){var o=$("#logNumber").val(),r={logisticsNumber:o,orderId:u};s.getMsg(apiUrl+"/admin/order/orderAdmin/toSend",r,"post").done(function(e){1==e.res?(s.Alert("success","发货成功"),$("#send-modal").modal("hide"),setTimeout(function(){window.history.go(-1)},2e3)):($("#send-modal").modal("hide"),s.Alert("","失败"))})}})}l();var a=s.GetQueryString("id"),c=s.GetQueryString("sendState"),u=s.GetQueryString("orderId"),p=s.GetQueryString("state");n(a),$("#box-list-content").on("click",".modal-send",function(){$("#modal-send").modal({show:!0})}),t(),2==c&&2==p&&$("#logisticsinfo").css("display","block")});