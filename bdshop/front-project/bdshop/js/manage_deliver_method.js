define(["jquery","template","components","jqueryValidate","manageCommon"],function(i,e,t,s,r){function n(i){var s=apiUrl+"/admin/logistics/logisticsAdmin/getLogisticsById?logisticsId="+i;t.getMsg(s).done(function(i){var t=i.res;if(1==t){var s=e("div-box-tpl",i);document.getElementById("div-box").innerHTML=s}})}function o(){$("#form-box").validate({rules:{name:{required:!0},prices:{required:!0,num:!0},state:{required:!0}},messages:{name:{required:"配送方式名称必填"},prices:{required:"配送费用必填"},state:{required:"状态请选择一个"}},submitHandler:function(i){var e=100*$("#price").val(),s=$("#form-box").serialize()+"&price="+e;t.getMsg(a,s,"post").done(function(i){1==i.res&&(t.Alert("success","修改成功"),setTimeout(function(){window.history.go(-1)},2e3))})}})}var d=t.GetQueryString("id"),a="";d?(a=apiUrl+"/admin/logistics/logisticsAdmin/editLogistics?logisticsId="+d,n(d),$("#addState").text("编辑配送方式")):(a=apiUrl+"/admin/logistics/logisticsAdmin/addLogistics",$("#addState").text("添加配送方式")),o(),jQuery.validator.addMethod("num",function(i,e){var t=/^\d+(\.\d{1,2})?$/g;return this.optional(e)||t.test(i)},"请填写非负数且最多保留小数点后两位")});